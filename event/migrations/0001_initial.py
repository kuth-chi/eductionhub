# Generated by Django 5.2.7 on 2025-10-25 13:01

import django.core.validators
import django.db.models.deletion
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('geo', '0003_city_created_by_country_created_by_state_created_by_and_more'),
        ('organization', '0006_rename_self_data_industry_created_by_and_more'),
        ('schools', '0026_add_resume_platforms'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Event',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True, verbose_name='Unique ID')),
                ('title', models.CharField(max_length=255, verbose_name='Event title')),
                ('slug', models.SlugField(max_length=255, unique=True, verbose_name='URL slug')),
                ('description', models.TextField(verbose_name='Description')),
                ('short_description', models.CharField(blank=True, help_text='Brief summary for cards/previews', max_length=500)),
                ('tags', models.JSONField(blank=True, default=list, help_text='Tags for search and filtering')),
                ('address_line_1', models.CharField(blank=True, help_text='Street address, building name', max_length=255, verbose_name='Address line 1')),
                ('address_line_2', models.CharField(blank=True, help_text='Apartment, suite, floor, etc.', max_length=255, verbose_name='Address line 2')),
                ('postal_code', models.CharField(blank=True, max_length=20, verbose_name='Postal/ZIP code')),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, help_text='Decimal degrees (-90 to 90)', max_digits=9, null=True, validators=[django.core.validators.MinValueValidator(Decimal('-90')), django.core.validators.MaxValueValidator(Decimal('90'))], verbose_name='Latitude')),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, help_text='Decimal degrees (-180 to 180)', max_digits=9, null=True, validators=[django.core.validators.MinValueValidator(Decimal('-180')), django.core.validators.MaxValueValidator(Decimal('180'))], verbose_name='Longitude')),
                ('location_name', models.CharField(blank=True, help_text="E.g., 'City Hall', 'Community Center', 'School Auditorium'", max_length=255, verbose_name='Location name')),
                ('location_instructions', models.TextField(blank=True, help_text='Directions, parking info, landmarks', verbose_name='How to get there')),
                ('google_maps_url', models.URLField(blank=True, help_text='Direct link to Google Maps')),
                ('is_virtual', models.BooleanField(default=False, verbose_name='Virtual/Online event')),
                ('virtual_meeting_url', models.URLField(blank=True, help_text='Zoom, Meet, Teams link')),
                ('virtual_meeting_password', models.CharField(blank=True, max_length=100)),
                ('start_datetime', models.DateTimeField(verbose_name='Start date & time')),
                ('end_datetime', models.DateTimeField(verbose_name='End date & time')),
                ('timezone', models.CharField(default='UTC', help_text='IANA timezone (e.g., America/New_York)', max_length=50)),
                ('registration_start', models.DateTimeField(blank=True, null=True, verbose_name='Registration opens')),
                ('registration_deadline', models.DateTimeField(blank=True, null=True, verbose_name='Registration closes')),
                ('max_participants', models.IntegerField(blank=True, help_text='Leave empty for unlimited', null=True, validators=[django.core.validators.MinValueValidator(1)])),
                ('banner_image', models.ImageField(blank=True, null=True, upload_to='events/banners/', verbose_name='Banner image')),
                ('thumbnail_image', models.ImageField(blank=True, null=True, upload_to='events/thumbnails/', verbose_name='Thumbnail for cards')),
                ('video_url', models.URLField(blank=True, verbose_name='Promotional video URL')),
                ('funding_goal', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0'))], verbose_name='Funding goal')),
                ('current_funding', models.DecimalField(decimal_places=2, default=Decimal('0'), max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0'))], verbose_name='Current funding')),
                ('currency', models.CharField(default='USD', max_length=3, verbose_name='Currency code')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('published', 'Published'), ('ongoing', 'Ongoing'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='draft', max_length=20, verbose_name='Status')),
                ('visibility', models.CharField(choices=[('public', 'Public - Anyone can view'), ('unlisted', 'Unlisted - Only with link'), ('private', 'Private - Invite only')], default='public', max_length=20, verbose_name='Visibility')),
                ('requires_approval', models.BooleanField(default=False, help_text='Organizer must approve registrations')),
                ('is_featured', models.BooleanField(default=False, help_text='Show on homepage')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created at')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated at')),
                ('published_at', models.DateTimeField(blank=True, null=True, verbose_name='Published at')),
                ('meta_description', models.CharField(blank=True, max_length=160)),
                ('og_image', models.ImageField(blank=True, null=True, upload_to='events/og/')),
                ('city', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='events', to='geo.city', verbose_name='City')),
                ('country', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='events', to='geo.country', verbose_name='Country')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='events_created', to=settings.AUTH_USER_MODEL, verbose_name='Creator')),
                ('state', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='events', to='geo.state', verbose_name='State/Province')),
                ('target_organization', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='events', to='organization.organization', verbose_name='Target organization')),
                ('target_school', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='events', to='schools.school', verbose_name='Target school')),
                ('village', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='events', to='geo.village', verbose_name='Village/Suburb')),
            ],
            options={
                'verbose_name': 'Event',
                'verbose_name_plural': 'Events',
                'ordering': ['-start_datetime'],
            },
        ),
        migrations.CreateModel(
            name='EventCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True, verbose_name='Category name')),
                ('slug', models.SlugField(unique=True, verbose_name='URL slug')),
                ('icon', models.CharField(blank=True, help_text='Icon identifier (e.g., font-awesome class)', max_length=50)),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('parent_category', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subcategories', to='event.eventcategory', verbose_name='Parent category')),
            ],
            options={
                'verbose_name': 'Event Category',
                'verbose_name_plural': 'Event Categories',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='EventExpense',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('category', models.CharField(choices=[('materials', 'Materials & Supplies'), ('venue', 'Venue & Facilities'), ('food', 'Food & Catering'), ('transport', 'Transportation'), ('marketing', 'Marketing & Promotion'), ('equipment', 'Equipment Rental/Purchase'), ('staffing', 'Staffing & Labor'), ('permits', 'Permits & Licenses'), ('insurance', 'Insurance'), ('printing', 'Printing & Signage'), ('technology', 'Technology & Software'), ('other', 'Other')], max_length=50, verbose_name='Category')),
                ('title', models.CharField(max_length=255, verbose_name='Expense title')),
                ('description', models.TextField(verbose_name='Description')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0'))], verbose_name='Amount')),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('receipt', models.FileField(blank=True, null=True, upload_to='events/receipts/', verbose_name='Receipt/Invoice')),
                ('receipt_number', models.CharField(blank=True, max_length=100)),
                ('vendor_name', models.CharField(blank=True, max_length=255, verbose_name='Vendor/Supplier')),
                ('expense_date', models.DateField(verbose_name='Date of expense')),
                ('payment_date', models.DateField(blank=True, null=True, verbose_name='Payment date')),
                ('status', models.CharField(choices=[('pending', 'Pending Approval'), ('approved', 'Approved'), ('rejected', 'Rejected'), ('paid', 'Paid')], default='pending', max_length=20)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('notes', models.TextField(blank=True, verbose_name='Notes')),
                ('rejection_reason', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_expenses', to=settings.AUTH_USER_MODEL)),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='expenses', to='event.event', verbose_name='Event')),
                ('submitted_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='submitted_expenses', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Event Expense',
                'verbose_name_plural': 'Event Expenses',
                'ordering': ['event', '-expense_date'],
            },
        ),
        migrations.CreateModel(
            name='EventImpact',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('metric_type', models.CharField(choices=[('beneficiaries', 'Beneficiaries Reached'), ('funds', 'Funds Raised'), ('items', 'Items Distributed'), ('volunteers', 'Volunteers Engaged'), ('hours', 'Volunteer Hours'), ('custom', 'Custom Metric')], max_length=30)),
                ('metric_name', models.CharField(help_text="E.g., 'Students helped', 'Books distributed', 'Trees planted'", max_length=100, verbose_name='Metric name')),
                ('metric_value', models.IntegerField(verbose_name='Value')),
                ('metric_unit', models.CharField(blank=True, help_text="E.g., 'students', 'kg', 'hours'", max_length=50)),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('icon', models.CharField(blank=True, help_text='Icon identifier', max_length=50)),
                ('verified', models.BooleanField(default=False)),
                ('verification_document', models.FileField(blank=True, null=True, upload_to='events/impact/')),
                ('display_order', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='impact_metrics', to='event.event', verbose_name='Event')),
            ],
            options={
                'verbose_name': 'Event Impact Metric',
                'verbose_name_plural': 'Event Impact Metrics',
                'ordering': ['event', 'display_order'],
            },
        ),
        migrations.CreateModel(
            name='EventMilestone',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255, verbose_name='Milestone title')),
                ('description', models.TextField(verbose_name='Description')),
                ('target_date', models.DateField(verbose_name='Target date')),
                ('completion_date', models.DateField(blank=True, null=True, verbose_name='Completion date')),
                ('is_completed', models.BooleanField(default=False, verbose_name='Completed')),
                ('proof_image', models.ImageField(blank=True, null=True, upload_to='events/milestones/', verbose_name='Proof image')),
                ('proof_document', models.FileField(blank=True, null=True, upload_to='events/milestones/docs/', verbose_name='Proof document')),
                ('completion_notes', models.TextField(blank=True)),
                ('display_order', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='milestones', to='event.event', verbose_name='Event')),
            ],
            options={
                'verbose_name': 'Event Milestone',
                'verbose_name_plural': 'Event Milestones',
                'ordering': ['event', 'display_order', 'target_date'],
            },
        ),
        migrations.CreateModel(
            name='EventParticipant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, verbose_name='Full name')),
                ('email', models.EmailField(max_length=254, verbose_name='Email')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='Phone number')),
                ('role', models.CharField(choices=[('attendee', 'Attendee'), ('speaker', 'Speaker/Presenter'), ('volunteer', 'Volunteer'), ('staff', 'Staff'), ('vip', 'VIP Guest')], default='attendee', max_length=20, verbose_name='Role')),
                ('status', models.CharField(choices=[('registered', 'Registered'), ('waitlist', 'Waitlist'), ('confirmed', 'Confirmed'), ('attended', 'Attended'), ('no-show', 'No Show'), ('cancelled', 'Cancelled')], default='registered', max_length=20, verbose_name='Status')),
                ('organization_name', models.CharField(blank=True, help_text='Company, school, or organization', max_length=255)),
                ('special_requirements', models.TextField(blank=True, help_text='Dietary, accessibility, or other needs')),
                ('registration_date', models.DateTimeField(auto_now_add=True)),
                ('confirmation_date', models.DateTimeField(blank=True, null=True)),
                ('check_in_time', models.DateTimeField(blank=True, null=True)),
                ('check_out_time', models.DateTimeField(blank=True, null=True)),
                ('registration_confirmed', models.BooleanField(default=False)),
                ('reminder_sent', models.BooleanField(default=False)),
                ('notes', models.TextField(blank=True, help_text='Internal notes')),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='participants', to='event.event', verbose_name='Event')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='event_participations', to=settings.AUTH_USER_MODEL, verbose_name='User')),
            ],
            options={
                'verbose_name': 'Event Participant',
                'verbose_name_plural': 'Event Participants',
                'ordering': ['event', 'registration_date'],
            },
        ),
        migrations.CreateModel(
            name='EventFeedback',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('overall_rating', models.IntegerField(choices=[(1, '1 Star'), (2, '2 Stars'), (3, '3 Stars'), (4, '4 Stars'), (5, '5 Stars')], verbose_name='Overall rating')),
                ('organization_rating', models.IntegerField(blank=True, choices=[(1, '1'), (2, '2'), (3, '3'), (4, '4'), (5, '5')], help_text='How well organized was the event?', null=True)),
                ('content_rating', models.IntegerField(blank=True, choices=[(1, '1'), (2, '2'), (3, '3'), (4, '4'), (5, '5')], help_text='Quality of content/activities', null=True)),
                ('venue_rating', models.IntegerField(blank=True, choices=[(1, '1'), (2, '2'), (3, '3'), (4, '4'), (5, '5')], help_text='Venue and facilities', null=True)),
                ('comment', models.TextField(blank=True, verbose_name='Comments')),
                ('what_went_well', models.TextField(blank=True)),
                ('what_to_improve', models.TextField(blank=True)),
                ('would_recommend', models.BooleanField(help_text='Would you recommend this event?', null=True)),
                ('is_public', models.BooleanField(default=True, help_text='Allow others to see this feedback')),
                ('is_featured', models.BooleanField(default=False, help_text='Feature as testimonial')),
                ('submitted_at', models.DateTimeField(auto_now_add=True)),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='feedback', to='event.event', verbose_name='Event')),
                ('participant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='feedback', to='event.eventparticipant', verbose_name='Participant')),
            ],
            options={
                'verbose_name': 'Event Feedback',
                'verbose_name_plural': 'Event Feedback',
                'ordering': ['event', '-submitted_at'],
            },
        ),
        migrations.CreateModel(
            name='EventPartnership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('partnership_type', models.CharField(help_text="E.g., 'Co-host', 'Supporting Partner', 'Media Partner'", max_length=50, verbose_name='Partnership type')),
                ('description', models.TextField(blank=True, verbose_name='Partnership details')),
                ('logo', models.ImageField(blank=True, null=True, upload_to='events/partners/')),
                ('is_public', models.BooleanField(default=True)),
                ('display_order', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='partnerships', to='event.event', verbose_name='Event')),
                ('partner_organization', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='event_partnerships', to='organization.organization', verbose_name='Partner organization')),
            ],
            options={
                'verbose_name': 'Event Partnership',
                'verbose_name_plural': 'Event Partnerships',
                'ordering': ['event', 'display_order'],
            },
        ),
        migrations.CreateModel(
            name='EventPhoto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(upload_to='events/photos/', verbose_name='Photo')),
                ('caption', models.CharField(blank=True, max_length=500, verbose_name='Caption')),
                ('photographer_credit', models.CharField(blank=True, help_text='Photographer name if not a user', max_length=255)),
                ('taken_at', models.DateTimeField(blank=True, null=True, verbose_name='Photo taken at')),
                ('tags', models.JSONField(blank=True, default=list, help_text='Tags: ceremony, distribution, students, volunteers, etc.')),
                ('is_featured', models.BooleanField(default=False, help_text='Show in highlights')),
                ('is_public', models.BooleanField(default=True, help_text='Visible to public')),
                ('display_order', models.IntegerField(default=0)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='photos', to='event.event', verbose_name='Event')),
                ('photographer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='event_photos', to=settings.AUTH_USER_MODEL, verbose_name='Photographer')),
            ],
            options={
                'verbose_name': 'Event Photo',
                'verbose_name_plural': 'Event Photos',
                'ordering': ['event', 'display_order', '-taken_at'],
            },
        ),
        migrations.CreateModel(
            name='EventSponsor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sponsor_name', models.CharField(max_length=255, verbose_name='Sponsor name')),
                ('sponsor_logo', models.ImageField(blank=True, null=True, upload_to='events/sponsors/', verbose_name='Logo')),
                ('sponsor_website', models.URLField(blank=True, verbose_name='Website')),
                ('sponsor_type', models.CharField(choices=[('title', 'Title Sponsor'), ('platinum', 'Platinum'), ('gold', 'Gold'), ('silver', 'Silver'), ('bronze', 'Bronze'), ('in-kind', 'In-Kind Contribution'), ('community', 'Community Sponsor')], max_length=20, verbose_name='Sponsorship level')),
                ('contribution_amount', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0'))], verbose_name='Contribution amount')),
                ('contribution_description', models.TextField(blank=True, help_text='Describe in-kind contributions or what the money supports', verbose_name='Contribution details')),
                ('is_public', models.BooleanField(default=True, help_text='Show sponsor publicly on event page')),
                ('display_order', models.IntegerField(default=0, help_text='Sort order for display')),
                ('contributed_at', models.DateTimeField(auto_now_add=True)),
                ('notes', models.TextField(blank=True, help_text='Internal notes')),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sponsors', to='event.event', verbose_name='Event')),
                ('organization', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sponsored_events', to='organization.organization', verbose_name='Organization')),
            ],
            options={
                'verbose_name': 'Event Sponsor',
                'verbose_name_plural': 'Event Sponsors',
                'ordering': ['event', 'display_order', '-contribution_amount'],
            },
        ),
        migrations.CreateModel(
            name='EventTicket',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="E.g., 'Early Bird', 'VIP', 'Student', 'General Admission'", max_length=100, verbose_name='Ticket name')),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('price', models.DecimalField(decimal_places=2, default=Decimal('0'), max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0'))], verbose_name='Price')),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('quantity_available', models.IntegerField(blank=True, help_text='Leave empty for unlimited', null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('quantity_sold', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('sale_start', models.DateTimeField(blank=True, null=True)),
                ('sale_end', models.DateTimeField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('display_order', models.IntegerField(default=0)),
                ('benefits', models.JSONField(blank=True, default=list, help_text='List of benefits for this ticket type')),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tickets', to='event.event', verbose_name='Event')),
            ],
            options={
                'verbose_name': 'Event Ticket',
                'verbose_name_plural': 'Event Tickets',
                'ordering': ['event', 'display_order', 'price'],
            },
        ),
        migrations.CreateModel(
            name='EventType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='Type name')),
                ('slug', models.SlugField(unique=True, verbose_name='URL slug')),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('icon', models.CharField(blank=True, max_length=50)),
                ('is_active', models.BooleanField(default=True)),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='event_types', to='event.eventcategory', verbose_name='Category')),
            ],
            options={
                'verbose_name': 'Event Type',
                'verbose_name_plural': 'Event Types',
                'ordering': ['category', 'name'],
            },
        ),
        migrations.AddField(
            model_name='event',
            name='event_type',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='events', to='event.eventtype', verbose_name='Event type'),
        ),
        migrations.CreateModel(
            name='EventUpdate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('update_type', models.CharField(choices=[('general', 'General Update'), ('milestone', 'Milestone Achieved'), ('announcement', 'Announcement'), ('reminder', 'Reminder'), ('thank-you', 'Thank You'), ('urgent', 'Urgent Notice')], default='general', max_length=20, verbose_name='Update type')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('content', models.TextField(verbose_name='Content')),
                ('image', models.ImageField(blank=True, null=True, upload_to='events/updates/')),
                ('posted_at', models.DateTimeField(auto_now_add=True)),
                ('is_pinned', models.BooleanField(default=False, help_text='Pin to top of updates')),
                ('is_public', models.BooleanField(default=True)),
                ('notify_participants', models.BooleanField(default=False)),
                ('notify_sponsors', models.BooleanField(default=False)),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='updates', to='event.event', verbose_name='Event')),
                ('posted_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='event_updates', to=settings.AUTH_USER_MODEL, verbose_name='Posted by')),
            ],
            options={
                'verbose_name': 'Event Update',
                'verbose_name_plural': 'Event Updates',
                'ordering': ['event', '-is_pinned', '-posted_at'],
            },
        ),
        migrations.CreateModel(
            name='EventOrganizer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('lead', 'Lead Organizer'), ('co-organizer', 'Co-Organizer'), ('volunteer-coordinator', 'Volunteer Coordinator'), ('finance-manager', 'Finance Manager'), ('media-manager', 'Media & Communications'), ('logistics', 'Logistics Manager'), ('registration', 'Registration Manager')], max_length=30, verbose_name='Role')),
                ('can_edit_event', models.BooleanField(default=False)),
                ('can_manage_participants', models.BooleanField(default=False)),
                ('can_manage_finances', models.BooleanField(default=False)),
                ('can_upload_media', models.BooleanField(default=True)),
                ('can_post_updates', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True, help_text='Internal notes about this organizer')),
                ('added_at', models.DateTimeField(auto_now_add=True)),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='organizers', to='event.event', verbose_name='Event')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='organized_events', to=settings.AUTH_USER_MODEL, verbose_name='User')),
            ],
            options={
                'verbose_name': 'Event Organizer',
                'verbose_name_plural': 'Event Organizers',
                'ordering': ['event', '-role'],
                'unique_together': {('event', 'user')},
            },
        ),
        migrations.AddIndex(
            model_name='eventparticipant',
            index=models.Index(fields=['event', 'status'], name='event_event_event_i_a9ec27_idx'),
        ),
        migrations.AddIndex(
            model_name='eventparticipant',
            index=models.Index(fields=['email'], name='event_event_email_d495b6_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='eventfeedback',
            unique_together={('event', 'participant')},
        ),
        migrations.AddIndex(
            model_name='event',
            index=models.Index(fields=['status', 'visibility'], name='event_event_status_ce70aa_idx'),
        ),
        migrations.AddIndex(
            model_name='event',
            index=models.Index(fields=['start_datetime'], name='event_event_start_d_ff4296_idx'),
        ),
        migrations.AddIndex(
            model_name='event',
            index=models.Index(fields=['latitude', 'longitude'], name='event_event_latitud_1952da_idx'),
        ),
        migrations.AddIndex(
            model_name='event',
            index=models.Index(fields=['country', 'state', 'city'], name='event_event_country_a4cdc5_idx'),
        ),
    ]
